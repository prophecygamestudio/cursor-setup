# Unified MCP Configuration
# This file is the single source of truth for MCP server configuration
# It generates configs for:
#   - Cursor JSON (~/.cursor/mcp.json)
#   - Codex TOML (~/.codex/config.toml)
#   - Claude Desktop JSON (%APPDATA%\Claude\claude_desktop_config.json)
#   - Claude Code JSON (~/.claude.json)
#   - Antigravity JSON (~/.gemini/antigravity/mcp_config.json)
#
# Agent-specific configuration:
#   - Use the 'agents' field to specify which agents should include this server
#   - Valid values: ["cursor"], ["codex"], ["claude-desktop"], ["claude-code"], ["antigravity"], or any combination
#   - If 'agents' is not specified, the server will be included for all agents
#   - Example: agents: ["codex"]  # Only install for Codex
#   - Example: agents: ["cursor", "claude-desktop"]  # Install for Cursor and Claude Desktop
#   - Example: agents: ["claude-code"]  # Only install for Claude Code CLI
#   - Example: agents: ["antigravity"]  # Only install for Google Antigravity
servers:
  # Standard MCP servers
  # - name: filesystem
  #   enabled: true
  #   command: npx
  #   args: ["-y", "@modelcontextprotocol/server-filesystem", "."]

  # Custom MCP servers that need cloning/building
  # Note: {LOCALAPPDATA} expands to %LOCALAPPDATA% (e.g., C:\Users\<user>\AppData\Local)
  # This location is never synced by cloud services (OneDrive, Dropbox, etc.)
  - name: rallyhere-comfy
    enabled: true
    repository: https://github.com/prophecygamestudio/comfyui-mcp-server
    command: uv
    args: ["--directory", "{LOCALAPPDATA}/gamedev-tools/mcp/rallyhere-comfy", "run", "src\\server.py"]
    env:
      comfyui_host: sparky1.hirezcorp.com

  - name: godot-mcp
    enabled: true
    agents: ["codex","antigravity"]
    buildCommands:
      - npm ci
      - npm run build
    repository: https://github.com/RallyHereInteractive/godot-mcp
    command: node
    args: ["{LOCALAPPDATA}/gamedev-tools/mcp/godot-mcp/build/index.js"]

  - name: UnityMCP
    enabled: true
    agents: ["codex","antigravity"]
    repository: https://github.com/prophecygamestudio/unity-mcp
    command: uvx
    args: ["--from", "git+https://github.com/prophecygamestudio/unity-mcp@v8.1.10#subdirectory=Server", "mcp-for-unity", "--transport", "stdio"]
