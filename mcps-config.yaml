# Unified MCP Configuration
# This file is the single source of truth for MCP server configuration
# It generates configs for:
#   - Cursor JSON (~/.cursor/mcp.json)
#   - Codex TOML (~/.codex/config.toml)
#   - Claude Desktop JSON (%APPDATA%\Claude\claude_desktop_config.json)
#   - Claude Code JSON (~/.claude.json)
#
# Agent-specific configuration:
#   - Use the 'agents' field to specify which agents should include this server
#   - Valid values: ["cursor"], ["codex"], ["claude-desktop"], ["claude-code"], or any combination
#   - If 'agents' is not specified, the server will be included for all agents
#   - Example: agents: ["codex"]  # Only install for Codex
#   - Example: agents: ["cursor", "claude-desktop"]  # Install for Cursor and Claude Desktop
#   - Example: agents: ["claude-code"]  # Only install for Claude Code CLI
servers:
  # Standard MCP servers
  # - name: filesystem
  #   enabled: true
  #   command: npx
  #   args: ["-y", "@modelcontextprotocol/server-filesystem", "."]

  # Custom MCP servers that need cloning/building
  - name: rallyhere-comfy
    enabled: true
    repository: https://github.com/prophecygamestudio/comfyui-mcp-server
    command: uv
    args: ["--directory", "~/Documents/gamedev-tools/mcp/rallyhere-comfy", "run", "src\\server.py"]
    env:
      comfyui_host: sparky1.hirezcorp.com

  - name: godot-mcp
    enabled: true
    agents: ["codex"]
    buildCommands:
      - npm ci
      - npm run build
    repository: https://github.com/RallyHereInteractive/godot-mcp
    command: node
    args: ["~/Documents/gamedev-tools/mcp/godot-mcp/build/index.js"]
